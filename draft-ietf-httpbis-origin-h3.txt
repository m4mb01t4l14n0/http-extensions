



HTTPbis                                                        M. Bishop
Internet-Draft                                                    Akamai
Intended status: Standards Track                            6 March 2023
Expires: 7 September 2023


                     The ORIGIN Extension in HTTP/3
                  draft-ietf-httpbis-origin-h3-latest

Abstract

   The ORIGIN frame for HTTP/2 is equally applicable to HTTP/3, but
   needs to be separately registered.  This document describes the
   ORIGIN frame for HTTP/3.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 7 September 2023.

Copyright Notice

   Copyright (c) 2023 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction
     1.1.  Notational Conventions
   2.  The ORIGIN HTTP/3 Frame
     2.1.  Frame Layout
   3.  Security Considerations
   4.  IANA Considerations
   5.  References
     5.1.  Normative References
     5.2.  Informative References
   Author's Address

1.  Introduction

   Existing RFCs define extensions to HTTP/2 [HTTP2] which remain useful
   in HTTP/3.  Appendix A.2.3 of [HTTP3] describes the required updates
   for HTTP/2 frames to be used with HTTP/3.

   [ORIGIN] defines the HTTP/2 ORIGIN frame, which indicates what
   origins are available on a given connection.  It defines a single
   HTTP/2 frame type.

1.1.  Notational Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

   Frame diagrams in this document use the format defined in Section 1.3
   of [QUIC-TRANSPORT] to illustrate the order and size of fields.

2.  The ORIGIN HTTP/3 Frame

   The ORIGIN HTTP/3 frame allows a server to indicate what origin(s)
   ([RFC6454]) the server would like the client to consider as members
   of the Origin Set (Section 2.3 of [ORIGIN]) for the connection within
   which it occurs.

   The semantics of the frame payload are identical to those of the
   HTTP/2 frame defined in [ORIGIN].  Where HTTP/2 reserves Stream 0 for
   frames related to the state of the connection, HTTP/3 defines a pair
   of unidirectional streams called "control streams" for this purpose.
   Where [ORIGIN] indicates that the ORIGIN frame should be sent on
   Stream 0, this should be interpreted to mean the HTTP/3 control
   stream.  The ORIGIN frame is sent from servers to clients on the
   server's control stream.

   HTTP/3 does not define a Flags field in the generic frame layout.  As
   no flags have been defined for the ORIGIN frame, this specification
   does not define a mechanism for communicating such flags in HTTP/3.

2.1.  Frame Layout

   The ORIGIN frame has a nearly identical layout to that used in
   HTTP/2, restated here for clarity.  The ORIGIN frame type is 0xc
   (decimal 12) as in HTTP/2.  The payload contains zero or more
   instances of the Origin-Entry field.

   HTTP/3 Origin-Entry {
     Origin-Len (16),
     ASCII-Origin (..),
   }

   HTTP/3 ORIGIN Frame {
     Type (i) = 0x0c,
     Length (i),
     Origin-Entry (..) ...,
   }

                       Figure 1: ORIGIN Frame Layout

   An Origin-Entry is a length-delimited string.  Specifically, it
   contains two fields:

   Origin-Len:  An unsigned, 16-bit integer indicating the length, in
      octets, of the ASCII-Origin field.

   ASCII-Origin:  An OPTIONAL sequence of characters containing the
      ASCII serialization of an origin ([RFC6454], Section 6.2) that the
      sender asserts this connection is or could be authoritative for.

3.  Security Considerations

   This document introduces no new security considerations beyond those
   discussed in [ORIGIN] and [HTTP3].

4.  IANA Considerations

   This document registers a frame type in the "HTTP/3 Frame Type"
   registry ([HTTP3]).

                  +============+=======+===============+
                  | Frame Type | Value | Specification |
                  +============+=======+===============+
                  | ORIGIN     |  0xc  | Section 2     |
                  +------------+-------+---------------+

                  Table 1: Registered HTTP/3 Frame Types

5.  References

5.1.  Normative References

   [HTTP2]    Thomson, M., Ed. and C. Benfield, Ed., "HTTP/2", RFC 9113,
              DOI 10.17487/RFC9113, June 2022,
              <https://www.rfc-editor.org/rfc/rfc9113>.

   [HTTP3]    Bishop, M., Ed., "HTTP/3", RFC 9114, DOI 10.17487/RFC9114,
              June 2022, <https://www.rfc-editor.org/rfc/rfc9114>.

   [ORIGIN]   Nottingham, M. and E. Nygren, "The ORIGIN HTTP/2 Frame",
              RFC 8336, DOI 10.17487/RFC8336, March 2018,
              <https://www.rfc-editor.org/rfc/rfc8336>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/rfc/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/rfc/rfc8174>.

5.2.  Informative References

   [QUIC-TRANSPORT]
              Iyengar, J., Ed. and M. Thomson, Ed., "QUIC: A UDP-Based
              Multiplexed and Secure Transport", RFC 9000,
              DOI 10.17487/RFC9000, May 2021,
              <https://www.rfc-editor.org/rfc/rfc9000>.

   [RFC6454]  Barth, A., "The Web Origin Concept", RFC 6454,
              DOI 10.17487/RFC6454, December 2011,
              <https://www.rfc-editor.org/rfc/rfc6454>.

Author's Address

   Mike Bishop
   Akamai
   Email: mbishop@evequefou.be
